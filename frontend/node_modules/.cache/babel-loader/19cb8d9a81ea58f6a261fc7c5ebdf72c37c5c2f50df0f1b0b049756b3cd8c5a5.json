{"ast":null,"code":"import _objectSpread from\"C:/Users/acer/Desktop/loginpage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import axios from\"../services/api\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../css/Login.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({emailOrUsername:\"\",password:\"\"});const[errorMessage,setErrorMessage]=useState(\"\");const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();if(!formData.emailOrUsername||!formData.password){setErrorMessage(\"All fields are required.\");return;}try{const response=await axios.post(\"/api/login\",formData);alert(response.data.message);setErrorMessage(\"\");}catch(err){var _err$response,_err$response$data;setErrorMessage(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Invalid login attempt.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4\",id:\"logintitle\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"emailOrUsername\",placeholder:\"Username or Email\",value:formData.emailOrUsername,onChange:handleChange,id:\"inputname\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,id:\"inputpass\"})}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",id:\"loginbutton\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-3\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","emailOrUsername","password","errorMessage","setErrorMessage","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","response","post","alert","data","message","err","_err$response","_err$response$data","className","children","id","onSubmit","type","placeholder","onChange","href"],"sources":["C:/Users/acer/Desktop/loginpage/frontend/src/views/login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"../services/api\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../css/Login.css\"; \r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({ emailOrUsername: \"\", password: \"\" });\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.emailOrUsername || !formData.password) {\r\n      setErrorMessage(\"All fields are required.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\"/api/login\", formData);\r\n      alert(response.data.message);\r\n      setErrorMessage(\"\");\r\n    } catch (err) {\r\n      setErrorMessage(err.response?.data?.message || \"Invalid login attempt.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <div className=\"login-container\">\r\n        <h1 className=\"text-center mb-4\" id='logintitle'>Login</h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"emailOrUsername\"\r\n              placeholder=\"Username or Email\"\r\n              value={formData.emailOrUsername}\r\n              onChange={handleChange}\r\n              id =\"inputname\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n               id =\"inputpass\"\r\n            />\r\n          </div>\r\n          {errorMessage && <p className=\"text-danger\">{errorMessage}</p>}\r\n          <button type=\"submit\" className=\"btn btn-primary w-100\" id=\"loginbutton\">Login</button>\r\n        </form>\r\n        <p className=\"text-center mt-3\">\r\n          Don't have an account? <a href=\"/register\">Register</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}